{% include "header_card.html" %}
{% include "menu_card.html" %}

    <h1 class="text-center">Edit Account Details</h1>
    <!-- Form add divs to each element to center them -->
    {% from 'bootstrap4/form.html' import render_form %}



    <div class="container d-flex justify-content-center">


      <main class="form-signin box">
          
        <a href="javascript:history.back()">Back to My Card</a>

      <form action method="post" class="form" enctype="multipart/form-data" role="form" novalidate>
        <br/>
        <div class="form-group"><label class="form-control-label" for="email">Account Email to log in</label>
          <input class="form-control" id="email" name="email" type="text" value={{current_user.email}}>
          <small class="form-text text-muted">This can be different from the displayed email on your business card.</small>
        </div>
        
        <button type="button" id="show-pass-form-button" onclick="showPasswordForm('password_form'); return false;" class="btn btn-warning" style="width: 100%; margin-bottom:1em">Change Password</button>
        
        <div id="password_form" style="display: none;">
          <div class="form-group"><label class="form-control-label" for="password">New Password</label>
            <input class="form-control" id="password" required type="password" name="password" type="text">
          </div>
    
          <div class="form-group"><label class="form-control-label" for="confirm">Confirm New Password</label>
            <input class="form-control" id="confirm" required type="password" name="confirm" type="text">
          </div>
        </div>
        
        <div class="form-group">
        <input class="btn btn-primary btn-md" id="submit" name="submit" type="submit" value="Update">
      </div>




      <hr/>
      <br>

      <div class="d-flex card-body ">

        <a href="#"  data-bs-toggle="modal" data-bs-target="#CancelAccountModal">
          Cancel Account
        </a>
        <!-- Modal -->
        <div class="modal fade" id="CancelAccountModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modal-title">Cancel Account</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
                <div class="modal-body">
                  <h5>Are you sure you want to cancel your account?</h5>
                  <p class="small">If you cancel your account, we will remove your information from our 
                    database at the end of your billing cycle for your privacy. You can always sign up again, but will need to go through the registration process again.
                    Your card will be active until your billing cycle ends.</p>
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                    Go Back
                  </button>
                  <button type="button" class="btn btn-danger">
                    <a href="{{url_for('cancel_account')}}" style="color: white; text-decoration: none; ">Cancel Account</a>
                  </button>
                </div>
            </div>
          </div>
        </div>

      
    </form>
  </main>
    </div> 




    
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

 
</body>
</html>